<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UPI Payment Interface</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style9.css">
  
  <style>
      body {
          overflow-x: hidden; 
      }
  </style>
</head>
<body>

  <div class="app-container page-enter">
   <div class="header">
      <div class="bank-info">
        <span class="upi-logo"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1280px-UPI-Logo-vector.svg.png" width="80" ></span> 
        <p id="saving"><span id="highlight">SAVINGS:</span> State Bank of India - 3038</p> 
      </div>
      <button class="close-btn"><i class="fa-solid fa-xmark"></i></button>
    </div>

    <div class="payment-card">
      <div class="pay-details">
        <p class="pay-amount">Pay ₹22.79</p>
        <p class="pay-to">To ANAMAR TECHNOLOGIES PRIVATE LIMITED</p>
      </div>
      <div class="bank-icon-container">
        <svg width="70" height="28" viewBox="0 0 70 28" xmlns="http://www.w3.org/2000/svg" class="bank-svg">
          <text x="2" y="20" class="rupee-text">₹</text>
          <path d="M 18 14 L 28 14 M 24 10 L 28 14 L 24 18" class="arrow-path"/>
          <rect x="36" y="2" width="24" height="24" rx="6" class="merchant-bg"/>
          <path d="M 41 10 L 55 10 L 56 12 C 56 13 55 14 54 14 C 53 14 52 13 52 12 C 52 13 51 14 50 14 C 49 14 48 13 48 12 C 48 13 47 14 46 14 C 45 14 44 13 44 12 C 44 13 43 14 42 14 C 41 14 40 13 40 12 L 41 10 Z" class="merchant-roof"/>
          <rect x="42" y="15" width="12" height="6" rx="1" class="merchant-base"/>
        </svg>
      </div>
    </div> 

    <div class="pin-section">
      <div class="pin-title">Enter your PIN</div>
      <div class="pin-dots" id="pin-dots">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div class="checkmark-container">
        <div class="checkmark" id="checkmark">
          <svg viewBox="0 0 24 24">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </div>
      </div>
    </div>

    <div class="warning">
      <div class="info"><i class="fa-solid fa-circle-info"></i></div>
      Never enter your UPI PIN to receive money
    </div>

    <div class="keypad-container">
      <div class="keypad" id="keypad">
        <button onclick="pressKey('1')">1</button>
        <button onclick="pressKey('2')">2</button>
        <button onclick="pressKey('3')">3</button>
        <button onclick="pressKey('4')">4</button>
        <button onclick="pressKey('5')">5</button>
        <button onclick="pressKey('6')">6</button>
        <button onclick="pressKey('7')">7</button>
        <button onclick="pressKey('8')">8</button>
        <button onclick="pressKey('9')">9</button>
        
        <button class="del-btn" onclick="deleteKey()">
          <svg viewBox="0 0 24 24">
            <path d="M21 4H8l-7 8 7 8h13a2 2 0 002-2V6a2 2 0 00-2-2z"></path>
            <line x1="18" y1="9" x2="12" y2="15"></line>
            <line x1="12" y1="9" x2="18" y2="15"></line>
          </svg>
        </button>
        
        <button onclick="pressKey('0')">0</button>
        <button class="pay-btn" id="pay-btn" onclick="submitPay()">Pay</button>
      </div>
    </div>
  </div>

  <script>
    let currentPinLength = 0;
    const maxPinLength = 6;
    const dots = document.querySelectorAll('.dot');
    const checkmark = document.getElementById('checkmark');
    const payBtn = document.getElementById('pay-btn');

    function pressKey(num) {
      if (navigator.vibrate) navigator.vibrate(10); 
      
      if (currentPinLength < maxPinLength) {
        dots[currentPinLength].classList.add('filled');
        currentPinLength++;
      }
      checkCompletion();
    }

    function deleteKey() {
      if (navigator.vibrate) navigator.vibrate(10);

      if (currentPinLength > 0) {
        currentPinLength--;
        dots[currentPinLength].classList.remove('filled');
      }
      checkCompletion();
    }

    function checkCompletion() {
      if (currentPinLength === maxPinLength) {
        checkmark.classList.add('show');
        payBtn.classList.add('active');
      } else {
        checkmark.classList.remove('show');
        payBtn.classList.remove('active');
      }
    }

    function submitPay() {
      const payBtn = document.getElementById('pay-btn');
      const appContainer = document.querySelector('.app-container');
      
      // 1. Disable the button to prevent double clicks
      payBtn.style.opacity = "0.7";
      payBtn.style.pointerEvents = "none";
      
      // 2. Wait for 1.5 seconds (simulating bank processing)
      setTimeout(() => {
        
        // 3. Trigger Slide Out Animation
        appContainer.classList.add('slide-out-left');
        
        // 4. Wait for animation to finish (300ms), then go to success page
        setTimeout(() => {
          window.location.href = "index10.html";
        }, 300);
        
      }, 200);
    }
  </script>

</body>
</html>